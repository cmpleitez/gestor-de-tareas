(function(m,c,e){e.app=e.app||{};var a=e("body"),v=e(m),p=e('div[data-menu="menu-wrapper"]').html(),f=e('div[data-menu="menu-wrapper"]').attr("class");e.app.menu={expanded:null,collapsed:null,hidden:null,container:null,horizontalMenu:!1,manualScroller:{obj:null,init:function(){e(".main-menu").hasClass("menu-dark"),this.obj=new PerfectScrollbar(".main-menu-content",{suppressScrollX:!0,wheelPropagation:!1})},update:function(){if(this.obj){if(e(".main-menu").data("scroll-to-active")===!0){var i,t;if(i=c.querySelector(".main-menu-content li.active"),a.hasClass("menu-collapsed"))e(".main-menu-content li.sidebar-group-active").length&&(i=c.querySelector(".main-menu-content li.sidebar-group-active"));else if(t=c.querySelector(".main-menu-content"),i>parseInt(t.clientHeight*2/3))var o=t.scrollTop,n=i-o-parseInt(t.clientHeight/2);setTimeout(function(){e.app.menu.container.stop().animate({scrollTop:n},300),e(".main-menu").data("scroll-to-active","false")},300)}this.obj.update()}},enable:function(){e(".main-menu-content").hasClass("ps")||this.init()},disable:function(){this.obj&&this.obj.destroy()},updateHeight:function(){(a.data("menu")=="vertical-menu"||a.data("menu")=="vertical-menu-modern"||a.data("menu")=="vertical-overlay-menu")&&e(".main-menu").hasClass("menu-fixed")&&(e(".main-menu-content").css("height",e(m).height()-e(".header-navbar").height()-e(".main-menu-header").outerHeight()-e(".main-menu-footer").outerHeight()),this.update())}},init:function(i){if(e(".main-menu-content").length>0){this.container=e(".main-menu-content");var t="";if(i===!0&&(t="collapsed"),a.data("menu")=="vertical-menu-modern"){var o="";o==="false"?this.change("collapsed"):this.change(t)}else this.change(t)}},drillDownMenu:function(i){e(".drilldown-menu").length&&(i=="sm"||i=="xs"?e("#navbar-mobile").attr("aria-expanded")=="true"&&e(".drilldown-menu").slidingMenu({backLabel:!0}):e(".drilldown-menu").slidingMenu({backLabel:!0}))},change:function(i,t){var o=Unison.fetch.now();this.reset();var n=a.data("menu");if(o)switch(o.name){case"xl":n==="vertical-overlay-menu"?this.hide():i==="collapsed"?this.collapse(i):this.expand();break;case"lg":n==="vertical-overlay-menu"||n==="vertical-menu-modern"||n==="horizontal-menu"?this.hide():this.collapse();break;case"md":case"sm":this.hide();break;case"xs":this.hide();break}(n==="vertical-menu"||n==="vertical-menu-modern")&&this.toOverlayMenu(o.name,n),a.is(".horizontal-layout")&&!a.hasClass(".horizontal-menu-demo")&&(this.changeMenu(o.name),e(".menu-toggle").removeClass("is-active")),n!="horizontal-menu"&&this.drillDownMenu(o.name),o.name=="xl"&&(e('body[data-open="hover"] .dropdown').on("mouseenter",function(){e(this).hasClass("show")?e(this).removeClass("show"):e(this).addClass("show")}).on("mouseleave",function(l){e(this).removeClass("show")}),e('body[data-open="hover"] .dropdown a').on("click",function(l){if(n=="horizontal-menu"){var r=e(this);if(r.hasClass("dropdown-toggle"))return!1}})),e(".header-navbar").hasClass("navbar-brand-center")&&e(".header-navbar").attr("data-nav","brand-center"),o.name=="sm"||o.name=="xs"?e(".header-navbar[data-nav=brand-center]").removeClass("navbar-brand-center"):e(".header-navbar[data-nav=brand-center]").addClass("navbar-brand-center"),e("ul.dropdown-menu [data-toggle=dropdown]").on("click",function(l){e(this).siblings("ul.dropdown-menu").length>0&&l.preventDefault(),l.stopPropagation(),e(this).parent().siblings().removeClass("show"),e(this).parent().toggleClass("show")}),n=="horizontal-menu"&&e("li.dropdown-submenu").on("mouseenter",function(){e(this).parent(".dropdown").hasClass("show")||e(this).removeClass("openLeft");var l=e(this).find(".dropdown-menu");if(l){var r=e(m).height(),d=l.offset().top,u=l.offset().left,h=l.width(),C=l.height();if(r-d-C-28<1){var g=r-d-25;e(this).find(".dropdown-menu").css({"max-height":g+"px","overflow-y":"auto","overflow-x":"hidden"}),new PerfectScrollbar("li.dropdown-submenu.show .dropdown-menu",{wheelPropagation:!1})}u+h-(m.innerWidth-16)>=0&&e(this).addClass("openLeft")}});function s(l){var r=e(".menu-search");e(r).change(function(){var d=e(this).val();if(d){e(".navigation-header").hide(),e(l).find("li a:not(:Contains("+d+"))").hide().parent().hide();var u=e(l).find("li a:Contains("+d+")");u.parent().hasClass("has-sub")?(u.show().parents("li").show().addClass("open").closest("li").children("a").show().children("li").show(),u.siblings("ul").length>0&&u.siblings("ul").children("li").show().children("a").show()):u.show().parents("li").show().addClass("open").closest("li").children("a").show()}else e(".navigation-header").show(),e(l).find("li a").show().parent().show().removeClass("open");return e.app.menu.manualScroller.update(),!1}).keyup(function(){e(this).change()})}(n==="vertical-menu"||n==="vertical-overlay-menu")&&(jQuery.expr[":"].Contains=function(l,r,d){return(l.textContent||l.innerText||"").toUpperCase().indexOf(d[3].toUpperCase())>=0},s(e("#main-menu-navigation")))},transit:function(i,t){var o=this;a.addClass("changing-menu"),i.call(o),a.hasClass("vertical-layout")&&(a.hasClass("menu-open")||a.hasClass("menu-expanded")?(e(".menu-toggle").addClass("is-active"),a.data("menu")==="vertical-menu"&&e(".main-menu-header")&&e(".main-menu-header").show()):(e(".menu-toggle").removeClass("is-active"),a.data("menu")==="vertical-menu"&&e(".main-menu-header")&&e(".main-menu-header").hide())),setTimeout(function(){t.call(o),a.removeClass("changing-menu"),o.update()},500)},open:function(){this.transit(function(){a.removeClass("menu-hide menu-collapsed").addClass("menu-open"),this.hidden=!1,this.expanded=!0,a.hasClass("vertical-overlay-menu")&&(e(".sidenav-overlay").removeClass("d-none").addClass("d-block"),e("body").css("overflow","hidden"))},function(){!e(".main-menu").hasClass("menu-native-scroll")&&e(".main-menu").hasClass("menu-fixed")&&(this.manualScroller.enable(),e(".main-menu-content").css("height",e(m).height()-e(".header-navbar").height()-e(".main-menu-header").outerHeight()-e(".main-menu-footer").outerHeight())),a.hasClass("vertical-overlay-menu")||(e(".sidenav-overlay").removeClass("d-block d-none"),e("body").css("overflow","auto"))})},hide:function(){this.transit(function(){a.removeClass("menu-open menu-expanded").addClass("menu-hide"),this.hidden=!0,this.expanded=!1,a.hasClass("vertical-overlay-menu")&&(e(".sidenav-overlay").removeClass("d-block").addClass("d-none"),e("body").css("overflow","auto"))},function(){!e(".main-menu").hasClass("menu-native-scroll")&&e(".main-menu").hasClass("menu-fixed")&&this.manualScroller.enable(),a.hasClass("vertical-overlay-menu")||(e(".sidenav-overlay").removeClass("d-block d-none"),e("body").css("overflow","auto"))})},expand:function(){this.expanded===!1&&(a.data("menu")=="vertical-menu-modern"&&e(".modern-nav-toggle").find(".toggle-icon").removeClass("bx bx-circle").addClass("bx bx-disc"),this.transit(function(){a.removeClass("menu-collapsed").addClass("menu-expanded"),this.collapsed=!1,this.expanded=!0,e(".sidenav-overlay").removeClass("d-block d-none")},function(){e(".main-menu").hasClass("menu-native-scroll")||a.data("menu")=="horizontal-menu"?this.manualScroller.disable():e(".main-menu").hasClass("menu-fixed")&&this.manualScroller.enable(),(a.data("menu")=="vertical-menu"||a.data("menu")=="vertical-menu-modern")&&e(".main-menu").hasClass("menu-fixed")&&e(".main-menu-content").css("height",e(m).height()-e(".header-navbar").height()-e(".main-menu-header").outerHeight()-e(".main-menu-footer").outerHeight())}))},collapse:function(i){this.collapsed===!1&&(a.data("menu")=="vertical-menu-modern"&&e(".modern-nav-toggle").find(".toggle-icon").removeClass("bx bx-disc").addClass("bx bx-circle"),this.transit(function(){a.removeClass("menu-expanded").addClass("menu-collapsed"),this.collapsed=!0,this.expanded=!1,e(".content-overlay").removeClass("d-block d-none")},function(){a.data("menu")=="horizontal-menu"&&a.hasClass("vertical-overlay-menu")&&e(".main-menu").hasClass("menu-fixed")&&this.manualScroller.enable(),(a.data("menu")=="vertical-menu"||a.data("menu")=="vertical-menu-modern")&&e(".main-menu").hasClass("menu-fixed")&&e(".main-menu-content").css("height",e(m).height()-e(".header-navbar").height()),a.data("menu")=="vertical-menu-modern"&&e(".main-menu").hasClass("menu-fixed")&&this.manualScroller.enable()}))},toOverlayMenu:function(i,t){var o=a.data("menu");t=="vertical-menu-modern"?i=="lg"||i=="md"||i=="sm"||i=="xs"?a.hasClass(o)&&a.removeClass(o).addClass("vertical-overlay-menu"):a.hasClass("vertical-overlay-menu")&&a.removeClass("vertical-overlay-menu").addClass(o):i=="sm"||i=="xs"?a.hasClass(o)&&a.removeClass(o).addClass("vertical-overlay-menu"):a.hasClass("vertical-overlay-menu")&&a.removeClass("vertical-overlay-menu").addClass(o)},changeMenu:function(i){e('div[data-menu="menu-wrapper"]').html(""),e('div[data-menu="menu-wrapper"]').html(p),e(".menu-livicon").removeLiviconEvo(),e.each(e(".menu-livicon"),function(r){var d=e(this),u=d.data("icon"),h=e("#main-menu-navigation").data("icon-style");d.addLiviconEvo({name:u,style:h,duration:.85,strokeWidth:"1.3px",eventOn:"parent",strokeColor:menuIconColorsObj.iconStrokeColor,solidColor:menuIconColorsObj.iconSolidColor,fillColor:menuIconColorsObj.iconFillColor,strokeColorAlt:menuIconColorsObj.iconStrokeColorAlt,afterAdd:function(){r===e(".main-menu-content .menu-livicon").length-1&&e(".main-menu-content .nav-item a").on("mouseenter",function(){e(".main-menu-content .menu-livicon").length&&(e(".main-menu-content .menu-livicon").stopLiviconEvo(),e(this).find(".menu-livicon").playLiviconEvo())})}})});var t=e('div[data-menu="menu-wrapper"]');e('div[data-menu="menu-container"]');var o=e('ul[data-menu="menu-navigation"]'),n=e('li[data-menu="dropdown"]'),s=e('li[data-menu="dropdown-submenu"]');i==="xl"?(a.removeClass("vertical-layout vertical-overlay-menu fixed-navbar").addClass(a.data("menu")),e("nav.header-navbar").removeClass("fixed-top"),t.removeClass().addClass(f),this.drillDownMenu(i),e("a.dropdown-item.nav-has-children").on("click",function(){event.preventDefault(),event.stopPropagation()}),e("a.dropdown-item.nav-has-parent").on("click",function(){event.preventDefault(),event.stopPropagation()})):(a.removeClass(a.data("menu")).addClass("vertical-layout vertical-overlay-menu fixed-navbar"),e("nav.header-navbar").addClass("fixed-top"),t.removeClass().addClass("main-menu menu-fixed menu-shadow"),o.removeClass().addClass("navigation navigation-main"),n.removeClass("dropdown").addClass("has-sub"),n.find("a").removeClass("dropdown-toggle nav-link"),n.children("ul").find("a").removeClass("dropdown-item"),n.find("ul").removeClass("dropdown-menu"),s.removeClass().addClass("has-sub"),e.app.nav.init(),e("ul.dropdown-menu [data-toggle=dropdown]").on("click",function(r){r.preventDefault(),r.stopPropagation(),e(this).parent().siblings().removeClass("open"),e(this).parent().toggleClass("open")})),e(".main-menu-content").find("li.active").parents("li").addClass("sidebar-group-active");function l(r){r.updateLiviconEvo({strokeColor:menuActiveIconColorsObj.iconStrokeColor,solidColor:menuActiveIconColorsObj.iconSolidColor,fillColor:menuActiveIconColorsObj.iconFillColor,strokeColorAlt:menuActiveIconColorsObj.iconStrokeColorAlt})}e(".nav-item.active .menu-livicon").length&&l(e(".nav-item.active .menu-livicon")),e(".main-menu-content li.sidebar-group-active .menu-livicon").length&&l(e(".main-menu-content li.sidebar-group-active .menu-livicon"))},toggle:function(){var i=Unison.fetch.now();this.collapsed;var t=this.expanded,o=this.hidden,n=a.data("menu");switch(i.name){case"xl":t===!0?n=="vertical-overlay-menu"?this.hide():this.collapse():n=="vertical-overlay-menu"?this.open():this.expand();break;case"lg":t===!0?n=="vertical-overlay-menu"||n=="vertical-menu-modern"||n=="horizontal-menu"?this.hide():this.collapse():n=="vertical-overlay-menu"||n=="vertical-menu-modern"||n=="horizontal-menu"?this.open():this.expand();break;case"md":case"sm":o===!0?this.open():this.hide();break;case"xs":o===!0?this.open():this.hide();break}this.drillDownMenu(i.name)},update:function(){this.manualScroller.update()},reset:function(){this.expanded=!1,this.collapsed=!1,this.hidden=!1,a.removeClass("menu-hide menu-open menu-collapsed menu-expanded")}},e.app.nav={container:e(".navigation-main"),initialized:!1,navItem:e(".navigation-main").find("li").not(".navigation-category"),config:{speed:300},init:function(i){this.initialized=!0,e.extend(this.config,i),this.bind_events()},bind_events:function(){var i=this;e(".navigation-main").on("mouseenter.app.menu","li",function(){var n=e(this);if(e(".hover",".navigation-main").removeClass("hover"),a.hasClass("menu-collapsed")&&a.data("menu")!="vertical-menu-modern"){e(".main-menu-content").children("span.menu-title").remove(),e(".main-menu-content").children("a.menu-title").remove(),e(".main-menu-content").children("ul.menu-content").remove();var s=n.find("span.menu-title").clone(),l,r;n.hasClass("has-sub")||(l=n.find("span.menu-title").text(),r=n.children("a").attr("href"),l!==""&&(s=e("<a>"),s.attr("href",r),s.attr("title",l),s.text(l),s.addClass("menu-title")));var d;n.css("border-top")?d=n.position().top+parseInt(n.css("border-top"),10):d=n.position().top,a.data("menu")!=="vertical-compact-menu"&&s.appendTo(".main-menu-content").css({position:"fixed",top:d}),n.hasClass("has-sub")&&n.hasClass("nav-item")&&(n.children("ul:first"),i.adjustSubmenu(n))}n.addClass("hover")}).on("mouseleave.app.menu","li",function(){}).on("active.app.menu","li",function(n){e(this).addClass("active"),n.stopPropagation()}).on("deactive.app.menu","li.active",function(n){e(this).removeClass("active"),n.stopPropagation()}).on("open.app.menu","li",function(n){var s=e(this);if(s.addClass("open"),i.expand(s),e(".main-menu").hasClass("menu-collapsible"))return!1;s.siblings(".open").find("li.open").trigger("close.app.menu"),s.siblings(".open").trigger("close.app.menu"),n.stopPropagation()}).on("close.app.menu","li.open",function(n){var s=e(this);s.removeClass("open"),i.collapse(s),n.stopPropagation()}).on("click.app.menu","li",function(n){var s=e(this);s.is(".disabled")||a.hasClass("menu-collapsed")&&a.data("menu")!="vertical-menu-modern"?n.preventDefault():s.has("ul")?s.is(".open")?s.trigger("close.app.menu"):s.trigger("open.app.menu"):s.is(".active")||(s.siblings(".active").trigger("deactive.app.menu"),s.trigger("active.app.menu")),n.stopPropagation()}),e(".navbar-header, .main-menu").on("mouseenter",t).on("mouseleave",o);function t(){if(a.data("menu")=="vertical-menu-modern"&&(e(".main-menu, .navbar-header").addClass("expanded"),a.hasClass("menu-collapsed"))){e(".main-menu li.open").length===0&&e(".main-menu-content").find("li.active").parents("li").addClass("open");var n=e(".main-menu li.menu-collapsed-open"),s=n.children("ul");s.hide().slideDown(200,function(){e(this).css("display","")}),n.addClass("open").removeClass("menu-collapsed-open")}}function o(){a.hasClass("menu-collapsed")&&a.data("menu")=="vertical-menu-modern"&&setTimeout(function(){if(e(".main-menu:hover").length===0&&e(".navbar-header:hover").length===0&&(e(".main-menu, .navbar-header").removeClass("expanded"),a.hasClass("menu-collapsed"))){var n=e(".main-menu li.open"),s=n.children("ul");n.addClass("menu-collapsed-open"),s.show().slideUp(200,function(){e(this).css("display","")}),n.removeClass("open")}},1)}e(".main-menu-content").on("mouseleave",function(){a.hasClass("menu-collapsed")&&(e(".main-menu-content").children("span.menu-title").remove(),e(".main-menu-content").children("a.menu-title").remove(),e(".main-menu-content").children("ul.menu-content").remove()),e(".hover",".navigation-main").removeClass("hover")}),e(".navigation-main li.has-sub > a").on("click",function(n){n.preventDefault()}),e("ul.menu-content").on("click","li",function(n){var s=e(this);if(s.is(".disabled"))n.preventDefault();else if(s.has("ul"))if(s.is(".open"))s.removeClass("open"),i.collapse(s);else{if(s.addClass("open"),i.expand(s),e(".main-menu").hasClass("menu-collapsible"))return!1;s.siblings(".open").find("li.open").trigger("close.app.menu"),s.siblings(".open").trigger("close.app.menu"),n.stopPropagation()}else s.is(".active")||(s.siblings(".active").trigger("deactive.app.menu"),s.trigger("active.app.menu"));n.stopPropagation()})},adjustSubmenu:function(i){var t,o,n,s,l,r=i.children("ul:first"),d=r.clone(!0);e(".main-menu-header").height(),t=i.position().top,n=v.height()-e(".header-navbar").height(),l=0,r.height(),parseInt(i.css("border-top"),10)>0&&(l=parseInt(i.css("border-top"),10)),s=n-t-i.height()-30,e(".main-menu").hasClass("menu-dark"),o=t+i.height()+l,d.addClass("menu-popout").appendTo(".main-menu-content").css({top:o,position:"fixed","max-height":s}),new PerfectScrollbar(".main-menu-content > ul.menu-content",{wheelPropagation:!1})},collapse:function(i,t){var o=i.children("ul");o.show().slideUp(e.app.nav.config.speed,function(){e(this).css("display",""),e(this).find("> li").removeClass("is-shown"),t&&t(),e.app.nav.container.trigger("collapsed.app.menu")})},expand:function(i,t){var o=i.children("ul"),n=o.children("li").addClass("is-hidden");o.hide().slideDown(e.app.nav.config.speed,function(){e(this).css("display",""),t&&t(),e.app.nav.container.trigger("expanded.app.menu")}),setTimeout(function(){n.addClass("is-shown"),n.removeClass("is-hidden")},0)},refresh:function(){e.app.nav.container.find(".open").removeClass("open")}}})(window,document,jQuery);
